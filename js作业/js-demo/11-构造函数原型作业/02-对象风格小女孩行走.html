<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>Document</title>
	<style type="text/css">
		div{
			width: 79px;
			height: 108px;
			background: url(images/girl.png) no-repeat;
			background-position: 0px -216px;
			position: absolute;	
			top: 100px;
			left: 0;
		}
	</style>
</head>
<body>

	<script type="text/javascript">
		function Girl(top,left){
			//定义小女孩的属性
			this.top = top;
			this.left = left;
			this.buzi = 0;
			this.timer = null;

			//定义一个初始化方法
			this.init = function(){
				//创建div，然后添加div
				this.dom = document.createElement("div");
				document.body.appendChild(this.dom);
				//设置样式
				this.dom.style.left = this.left + "px";
				this.dom.style.top = this.top + "px";
			}
			
			//设置方法
			this.xingzou = function(){
				//要备份，因为进入setInterval之后this就是window了
				var self = this;
				this.timer = setInterval(function(){
					self.left ++;
					self.buzi++;
					if(self.buzi > 7){
						self.buzi = 0;
					}
					if(self.left > 1000){
						self.die();
					}
					self.dom.style.left = self.left + "px";
					self.dom.style.backgroundPosition = -79 * self.buzi + "px -216px";
				},5);
			},
			this.die = function(){
				clearInterval(this.timer);
				document.body.removeChild(this.dom);
			}

			//调用初始化方法
			this.init();
			//直接调用行走
			this.xingzou();
		}

		
 
		//每1000毫秒创建出一个小女孩
		setInterval(function(){
			new Girl(Math.random() * 400,100);
		},1000)
	</script>
</body>
</html>